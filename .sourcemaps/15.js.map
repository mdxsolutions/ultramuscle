{"version":3,"sources":["../../src/pages/dashboard/dashboard.module.ts","../../src/pages/dashboard/dashboard.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule, IonicModule } from 'ionic-angular';\r\nimport { DashboardPage } from './dashboard';\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    DashboardPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(DashboardPage),\r\n    IonicModule,\r\n    ComponentsModule\r\n  ]\r\n})\r\nexport class DashboardPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dashboard/dashboard.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, MenuController, NavController, LoadingController } from 'ionic-angular';\r\n\r\n// Models\r\nimport { Workout, Recipe } from '../../models/index.models';\r\n\r\n// Services\r\nimport { WorkoutService, NutritionService } from '../../services/index.services';\r\nimport { AuthService } from '../../app/core/auth.service';\r\n\r\n// Observable / Operators\r\nimport { Observable } from 'rxjs';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-dashboard',\r\n  templateUrl: 'dashboard.html',\r\n})\r\nexport class DashboardPage {\r\n\r\n  userWorkouts$: Observable<Workout[]>;\r\n  userWorkouts: Workout[] = [];\r\n\r\n  userRecipes$: Observable<Recipe[]>;\r\n  userRecipes: Recipe[] = [];\r\n\r\n  userActivated: boolean;\r\n  recipes: Recipe[] = [];\r\n  nutritionId: string = \"5eVAS6deqZcDlRinTxbK\";\r\n\r\n  constructor(\r\n    public menuCtrl: MenuController,\r\n    public _workoutService: WorkoutService,\r\n    public _nutritionService: NutritionService,\r\n    public auth: AuthService,\r\n    private navCtrl: NavController,\r\n    private loadingCtrl: LoadingController\r\n  ) {\r\n      this.menuCtrl.enable(true, 'main');\r\n    }\r\n\r\n    ionViewDidLoad() {\r\n\r\n      let loader = this.loadingCtrl.create({\r\n        spinner: \"dots\"\r\n      });\r\n\r\n      loader.present().then(() => {\r\n        this.loadUserWorkouts();\r\n        this.loadUserRecipes().then(() => {\r\n          loader.dismiss();\r\n        });\r\n      });\r\n    }\r\n\r\n    async loadUserWorkouts() {\r\n      // We get all the workouts\r\n      this.userWorkouts$ = await this._workoutService.getAllWorkouts(\"planId\");\r\n\r\n      // We save just 3 workouts per user\r\n      this.userWorkouts$.subscribe(workouts => {\r\n        this.userWorkouts = workouts.slice(0,3);\r\n      });\r\n    }\r\n\r\n    async loadUserRecipes() {\r\n      this.userRecipes$ = await this._nutritionService.getUserRecipes(\"5eVAS6deqZcDlRinTxbK\");\r\n      this.userRecipes$.subscribe(recipes => {\r\n          this.userRecipes = recipes;\r\n        });\r\n    }\r\n\r\n    ionViewCanEnter() {\r\n\r\n      let authenticated = this.auth.authenticated;\r\n      \r\n      this.auth.user$.subscribe(() => {\r\n        if(authenticated) {\r\n          return true;\r\n        } else {\r\n          this.navCtrl.setRoot('SigninPage');\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dashboard/dashboard.ts"],"sourceRoot":""}